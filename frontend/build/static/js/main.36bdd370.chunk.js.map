{"version":3,"sources":["components/join/Join.js","components/message/Message.js","components/chat/Chat.js","App.js","index.js"],"names":["user","Join","u","setU","useState","_jsx","React","Fragment","children","className","_jsxs","src","width","height","type","id","placeholder","value","onChange","e","target","handleInput","Link","to","Message","_ref","message","c","concat","socket","Chat","setid","m","setm","send","document","getElementById","emit","useEffect","socketIO","transports","reconnectionDelayMax","autoConnect","secure","on","console","log","data","prev","off","href","AiFillCloseCircle","ReactScrollToBottom","map","item","i","onKeyPress","key","onClick","App","Component","render","BrowserRouter","Routes","Route","exact","path","ReactDOM"],"mappings":"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","file":"static/js/main.36bdd370.chunk.js","sourcesContent":["import React,{useState} from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport './Join.css';\r\n\r\nlet user = \"\";\r\nexport default function Join(){\r\n  const[u,setU] = useState(\"\");\r\n  const handleInput = (e)=>{\r\n    if(e.target.value != \"\"){\r\n      user = e.target.value;\r\n      setU(user);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n        <div className=\"main\">\r\n            <div className=\"container\">\r\n                  <img src={process.env.PUBLIC_URL+'/icon1.jpg'} width='200' height='150'/> \r\n                  <label>Let's Chat</label><br />\r\n                  <input type=\"text\" id='userId' placeholder='enter your name' value={u} onChange={e => handleInput(e)}/><br />\r\n                  <Link to={ u ? '/chat' : \"/\"}><button>Log-In</button></Link>\r\n            </div>\r\n        </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport {user}","import React from 'react';\r\nimport './Message.css';\r\n\r\nconst Message = ({message,user,c}) => {\r\nif(user){\r\n    return (\r\n        <div className={`mbox ${c}`}>\r\n            {`${user} : ${message}`}\r\n        </div>\r\n      )\r\n  }else{\r\n    return (\r\n        <div className={`mbox ${c}`}>\r\n            {`you : ${message}`}\r\n        </div>\r\n      )\r\n  }\r\n}\r\n\r\nexport default Message","import React,{useEffect,useState} from 'react'\r\nimport './Chat.css';\r\nimport {user} from '../join/Join';\r\nimport socketIO from \"socket.io-client\";\r\nimport Message from '../message/Message';\r\nimport ReactScrollToBottom from 'react-scroll-to-bottom';\r\nimport {AiFillCloseCircle} from 'react-icons/ai';\r\n\r\nconst endPoint = \"http://localhost:9090/\";\r\nlet socket;\r\n\r\nconst Chat = () => {\r\n    const [id, setid] = useState();\r\n    const [m, setm] = useState([]);\r\n    const send = ()=>{\r\n        let message = document.getElementById(\"messageBox\").value;\r\n        socket.emit(\"message\",{message,id});\r\n        document.getElementById(\"messageBox\").value = \"\";\r\n    }\r\n\r\n    // console.log(m);\r\n\r\n    useEffect(()=>{\r\n        socket = socketIO(endPoint,{transports: ['websocket', 'webtransport','polling'],\r\n          reconnectionDelayMax: 10000,\r\n          autoConnect: true,\r\n          secure: true});\r\n\r\n        socket.on(\"connect\",()=>{\r\n            console.log(\"connected\");\r\n            setid(socket.id);\r\n          });\r\n        socket.emit(\"joined\",{user});\r\n\r\n        socket.on(\"welcome\",(data)=>{\r\n            setm((prev)=> [...prev,{...data,user:\"admin\"}]);\r\n            console.log(data);\r\n        });\r\n        socket.on(\"new user\",(data)=>{\r\n            setm((prev)=> [...prev,data]);\r\n            console.log(data);\r\n        })\r\n\r\n        socket.on(\"leave\",(data)=>{\r\n            setm((prev)=> [...prev,data]);\r\n            console.log(data);\r\n        });\r\n\r\n        return ()=>{\r\n            socket.emit(\"disconnect\");\r\n            socket.off();\r\n        }\r\n    },[]);\r\n\r\n    useEffect(() => {\r\n      socket.on(\"sendMessage\",(data)=>{\r\n        setm((prev)=> [...prev,data]);\r\n      });\r\n\r\n      return () => {\r\n        socket.off();\r\n      }\r\n    }, [m]);\r\n    \r\n\r\n  return (\r\n    <div className=\"chat-main\">\r\n        <div className=\"chat-container\">\r\n            <div className=\"hd\">\r\n                <label>Let's Chat</label>\r\n                <a href=\"/\"><button><AiFillCloseCircle /></button></a>\r\n            </div>\r\n            <ReactScrollToBottom className=\"bd\">\r\n                {m.map((item,i)=><Message message={item.message} user={item.id === id ? '' : item.user} c={item.id === id ? 'right' : 'left'} />)}\r\n            </ReactScrollToBottom>\r\n            <div className=\"fd\">\r\n                <input type=\"text\" onKeyPress={(e)=> e.key ==='Enter' ? send() : null} placeholder=\"messages....\" id=\"messageBox\"/>\r\n                <button onClick={() => send()}>send</button> \r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Chat\r\n","import React, { Component } from 'react';\r\nimport {BrowserRouter,Route,Routes} from 'react-router-dom';\r\nimport Join from './components/join/Join';\r\nimport Chat from './components/chat/Chat';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n     <BrowserRouter> \r\n        <Routes>\r\n          <Route exact path='/' Component={Join}/>\r\n          <Route exact path='/chat' Component={Chat}/>\r\n        </Routes>\r\n     </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}