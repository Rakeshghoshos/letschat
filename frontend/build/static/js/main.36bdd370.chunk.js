(this.webpackJsonpletschat=this.webpackJsonpletschat||[]).push([[0],{195:function(e,t,c){},197:function(e,t,c){},202:function(e,t,c){},410:function(e,t,c){},411:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),a=c(76),o=c.n(a),l=c(77),r=c(2),j=(c(195),c(5));let i="";function d(){const[e,t]=Object(s.useState)("");return Object(j.jsx)(n.a.Fragment,{children:Object(j.jsx)("div",{className:"main",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("img",{src:"/icon1.jpg",width:"200",height:"150"}),Object(j.jsx)("label",{children:"Let's Chat"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",id:"userId",placeholder:"enter your name",value:e,onChange:e=>(e=>{""!=e.target.value&&(i=e.target.value,t(i))})(e)}),Object(j.jsx)("br",{}),Object(j.jsx)(l.b,{to:e?"/chat":"/",children:Object(j.jsx)("button",{children:"Log-In"})})]})})})}c(197);var b=c(186);c(202);var h=e=>{let{message:t,user:c,c:s}=e;return c?Object(j.jsx)("div",{className:"mbox ".concat(s),children:"".concat(c," : ").concat(t)}):Object(j.jsx)("div",{className:"mbox ".concat(s),children:"you : ".concat(t)})},u=c(185),m=c(187);let x;var O=()=>{const[e,t]=Object(s.useState)(),[c,n]=Object(s.useState)([]),a=()=>{let t=document.getElementById("messageBox").value;x.emit("message",{message:t,id:e}),document.getElementById("messageBox").value=""};return Object(s.useEffect)((()=>(x=Object(b.a)("http://localhost:9090/",{transports:["websocket","webtransport","polling"],reconnectionDelayMax:1e4,autoConnect:!0,secure:!0}),x.on("connect",(()=>{console.log("connected"),t(x.id)})),x.emit("joined",{user:i}),x.on("welcome",(e=>{n((t=>[...t,{...e,user:"admin"}])),console.log(e)})),x.on("new user",(e=>{n((t=>[...t,e])),console.log(e)})),x.on("leave",(e=>{n((t=>[...t,e])),console.log(e)})),()=>{x.emit("disconnect"),x.off()})),[]),Object(s.useEffect)((()=>(x.on("sendMessage",(e=>{n((t=>[...t,e]))})),()=>{x.off()})),[c]),Object(j.jsx)("div",{className:"chat-main",children:Object(j.jsxs)("div",{className:"chat-container",children:[Object(j.jsxs)("div",{className:"hd",children:[Object(j.jsx)("label",{children:"Let's Chat"}),Object(j.jsx)("a",{href:"/",children:Object(j.jsx)("button",{children:Object(j.jsx)(m.a,{})})})]}),Object(j.jsx)(u.a,{className:"bd",children:c.map(((t,c)=>Object(j.jsx)(h,{message:t.message,user:t.id===e?"":t.user,c:t.id===e?"right":"left"})))}),Object(j.jsxs)("div",{className:"fd",children:[Object(j.jsx)("input",{type:"text",onKeyPress:e=>"Enter"===e.key?a():null,placeholder:"messages....",id:"messageBox"}),Object(j.jsx)("button",{onClick:()=>a(),children:"send"})]})]})})};c(410);class g extends s.Component{render(){return Object(j.jsx)(l.a,{children:Object(j.jsxs)(r.c,{children:[Object(j.jsx)(r.a,{exact:!0,path:"/",Component:d}),Object(j.jsx)(r.a,{exact:!0,path:"/chat",Component:O})]})})}}var p=g;o.a.render(Object(j.jsx)(p,{}),document.getElementById("root"))}},[[411,1,2]]]);
//# sourceMappingURL=main.36bdd370.chunk.js.map